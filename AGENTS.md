# Repository Guidelines

## Project Structure & Module Organization
- `src/index.ts` hosts the Express server, request handlers, and HTTP wiring. Keep new API routes co-located here or split them into `src/routes/` when they grow.
- `src/firebase.ts` centralizes Firebase Admin setup. Extend this module rather than re-initializing the SDK elsewhere.
- `dist/` is generated by `tsc` and should stay untracked in commits. The `Dockerfile` consumes this output for deployment.
- Configuration such as `tsconfig.json`, `firebase.json`, and environment files (`.env.local`, Cloud Run secrets) govern build targets and credentials. Update docs if you touch them.

## Build, Test, and Development Commands
- `npm install` installs all runtime and TypeScript tooling; run it after pulling dependency changes.
- `npm run dev` runs the server through `ts-node`; use this for local development.
- `npm run build` transpiles TypeScript into `dist/`. Always run it before container builds or deployments.
- `npm run start` launches the compiled server from `dist/index.js`. This mirrors production behavior.
- `npm test` currently fails by design; replace the placeholder with real tests before enabling CI.

## Coding Style & Naming Conventions
- Use 4-space indentation, single quotes, and trailing commas, matching the existing TypeScript files.
- Stick to `camelCase` for variables/functions, `PascalCase` for types, and descriptive route handler names (e.g., `registerUserRoute`).
- Prefer `async/await`, keep Firestore access behind helper modules, and document non-obvious logic with short comments.

## Testing Guidelines
- Don't write tests

## Commit & Pull Request Guidelines
- Don't commit or send any pull request

## Security & Configuration Tips
- Never commit secrets. Use `.env` for local development and rely on Cloud Run or Firebase-provided service accounts in production.
- Keep Firestore rules aligned with API expectations; update `firebase.json` and document any rule changes in the PR description.
